<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusStreaming - Seu Universo de Filmes e Séries</title>
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/LXB3YYq1/Captura-de-tela-2025-05-25-201133-fotor-bg-remover-20250525201156.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <script>
        // Define o tema (claro/escuro) - Priorizando o Dark como Padrão
        if (localStorage.theme === 'light') {
            document.documentElement.classList.remove('dark');
        } else {
            document.documentElement.classList.add('dark');
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; overflow-x: hidden; }
        html { overflow-x: hidden; }
        .icon { width: 1em; height: 1em; display: inline-block; vertical-align: middle; }
        .section-divider::before { content: ''; display: block; height: 1px; width: 60px; background-image: linear-gradient(to right, transparent, theme('colors.nexus-blue' / 50%), transparent); margin: 0 auto 1rem auto; }
        @media (min-width: 768px) { .section-divider::before { width: 80px; margin-bottom: 1.5rem; } }
        *:focus-visible { outline: 2px solid theme('colors.nexus-blue' / 70%); outline-offset: 2px; border-radius: 4px; }
        .pricing-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .pricing-card:hover { transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
        .pricing-card.featured { border-color: theme('colors.nexus-blue'); transform: scale(1.02); }
        .swiper-container { width: 100%; padding: 10px 0 30px 0; position: relative; }
        .swiper-slide { text-align: center; font-size: 18px; background: transparent; display: flex; justify-content: center; align-items: center; height: auto; }
        .show-card { transition: transform 0.3s ease, box-shadow 0.3s ease; width: 100%; background-color: theme('colors.white'); border-radius: 0.5rem; overflow: hidden; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); display: flex; flex-direction: column; height: 100%; }
        .dark .show-card { background-color: theme('colors.nexus-stream-card'); }
        .show-card:hover { transform: scale(1.05); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1); }
        .show-card.media-card-clickable:hover { box-shadow: 0 10px 15px -3px theme('colors.nexus-blue' / 0.3), 0 4px 6px -2px theme('colors.nexus-blue' / 0.2); } /* Atualizado */
        .show-card img { width: 100%; object-fit: cover; aspect-ratio: 2 / 3; }
        .show-card .show-info { padding: 0.75rem; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .show-card h4 { font-size: 0.875rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 0.25rem; }
        .show-card .rating { display: flex; align-items: center; margin-top: auto; font-size: 0.75rem; }
        .swiper-button-next, .swiper-button-prev { color: theme('colors.nexus-blue'); background-color: rgba(255, 255, 255, 0.7); border-radius: 50%; width: 36px; height: 36px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: background-color 0.2s ease, color 0.2s ease; }
        .swiper-button-next:hover, .swiper-button-prev:hover { background-color: theme('colors.nexus-blue'); color: white; }
        .dark .swiper-button-next, .dark .swiper-button-prev { background-color: rgba(31, 41, 55, 0.7); color: theme('colors.blue.400'); }
        .dark .swiper-button-next:hover, .dark .swiper-button-prev:hover { background-color: theme('colors.nexus-blue'); color: white; }
        .swiper-button-next::after, .swiper-button-prev::after { font-size: 16px !important; font-weight: bold; }
        .swiper-button-next { right: 0; } .swiper-button-prev { left: 0; }
        .swiper-button-disabled { display: none; }
        #chat-widget { position: fixed; bottom: 1.5rem; right: 1.5rem; width: 320px; transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; opacity: 0; transform: translateY(20px) scale(0.95); z-index: 1000; pointer-events: none; will-change: transform, opacity; }
        #chat-widget.visible { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }
        #whatsapp-button { position: fixed; bottom: 1.5rem; right: 1.5rem; z-index: 990; transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; will-change: transform, opacity; opacity: 0; transform: scale(0.8); pointer-events: none; }
        #whatsapp-button.visible { opacity: 1; transform: scale(1); pointer-events: auto; }
        #whatsapp-button.hidden { opacity: 0; transform: scale(0.8); pointer-events: none; }
        @media (max-width: 400px) { #chat-widget { width: calc(100% - 2rem); right: 1rem; left: 1rem; bottom: 1rem; } #whatsapp-button { bottom: 1rem; right: 1rem; } }
        #search-results-grid .show-card { margin-bottom: 1.5rem; }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { 'nexus-blue': '#007aff', 'nexus-stream-dark': '#0d1117', 'nexus-stream-card': '#161b22', 'nexus-light': '#f9fafb', 'nexus-dark': '#111827', 'nexus-gray': '#6b7280', 'nexus-heading': '#1f2937', 'nexus-dark-text': '#d1d5db', 'nexus-dark-heading': '#f9fafb', 'chat-bg-light': '#ffffff', 'chat-bg-dark': '#1f2937', 'chat-btn-bg-light': '#f3f4f6', 'chat-btn-bg-dark': '#374151', 'chat-btn-hover-bg-light': '#e5e7eb', 'chat-btn-hover-bg-dark': '#4b5563', },
                    animation: { 'fade-in-up': 'fadeInUp 0.6s ease-out forwards', 'subtle-pulse': 'subtlePulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite' },
                    keyframes: { fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' }, }, subtlePulse: { '0%, 100%': { opacity: 1 }, '50%': { opacity: .6 }, } }
                }
            }
        }
    </script>
</head>
<body class="bg-nexus-light dark:bg-nexus-stream-dark text-nexus-gray dark:text-nexus-dark-text antialiased text-base">

    <header class="bg-white/80 dark:bg-nexus-stream-dark/80 backdrop-blur-lg shadow-sm sticky top-0 z-50 transition-colors duration-300 border-b border-gray-200/50 dark:border-white/10">
        <nav class="container mx-auto px-4 sm:px-6 py-3 flex justify-between items-center">
            <div>
                <a href="#hero" class="text-lg sm:text-xl font-bold text-nexus-blue dark:text-white transition-transform hover:scale-105 inline-block">
                    Nexus<span class="text-nexus-heading dark:text-nexus-dark-heading">Streaming</span>
                </a>
            </div>
            <div class="hidden md:flex space-x-4 lg:space-x-6 items-center text-sm font-medium text-gray-600 dark:text-gray-300">
                <a href="#hero" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Início</a>
                <a href="#search-section" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Pesquisar</a>
                <a href="#now-playing-movies" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Em Cartaz</a>
                <a href="#popular-movies" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Populares</a>
                <a href="#discover-movies" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Descubra</a>
                <a href="#upcoming-movies" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Em Breve</a>
                <a href="#top-rated-movies" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Mais Votados</a>
                <a href="#top-rated-tv" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Séries</a>
                <a href="#features" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Recursos</a>
                <a href="#pricing" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Planos</a>
                <a href="#contact" class="hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200">Contato</a>
                <button onclick="toggleDarkMode()" aria-label="Alternar modo claro/escuro" class="ml-2 text-gray-500 dark:text-gray-400 hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:inline-block" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" /></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block dark:hidden" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.464A1 1 0 106.465 13.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM1 11a1 1 0 100-2H0a1 1 0 100 2h1zM4.54 5.46A1 1 0 005.953 6.874l.707-.707A1 1 0 005.243 4.757l-.707.707z" clip-rule="evenodd" /></svg>
                </button>
                <a href="http://localhost:8080/login.html" class="bg-gray-600 text-white px-4 py-2 lg:px-5 rounded-full hover:bg-gray-700 transition-all duration-300 text-sm font-medium shadow hover:shadow-md transform hover:scale-105 ml-2">Acessar</a>
                <a href="#pricing" class="bg-gradient-to-r from-blue-500 to-nexus-blue text-white px-4 py-2 lg:px-5 rounded-full hover:from-blue-600 hover:to-blue-600 transition-all duration-300 text-sm font-medium shadow hover:shadow-md transform hover:scale-105 ml-2">Assine Agora</a>
            </div>
            <div class="md:hidden flex items-center">
                <button onclick="toggleDarkMode()" aria-label="Alternar modo claro/escuro" class="text-gray-500 dark:text-gray-400 hover:text-nexus-blue dark:hover:text-blue-400 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:inline-block" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" /></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block dark:hidden" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 14.464A1 1 0 106.465 13.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM1 11a1 1 0 100-2H0a1 1 0 100 2h1zM4.54 5.46A1 1 0 005.953 6.874l.707-.707A1 1 0 005.243 4.757l-.707.707z" clip-rule="evenodd" /></svg>
                </button>
                <button id="mobile-menu-button" class="text-gray-600 dark:text-gray-300 focus:outline-none p-1 ml-2" aria-label="Abrir menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu-container" class="md:hidden absolute top-full left-0 right-0 z-40"></div>
    </header>

    <main>
        <section id="hero" class="relative overflow-hidden bg-gradient-to-br from-blue-100 via-white to-purple-100 dark:from-gray-900 dark:via-nexus-stream-dark dark:to-gray-800 pt-20 pb-16 md:pt-32 md:pb-28 text-center">
            <div class="absolute inset-0 opacity-10 dark:opacity-[0.03] bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgdmlld0JveD0iMCAwIDUyIDUyIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9IjAuMyIgZD0iTTEzIDBINHY0aDEzdjRINHY0aDEzdjRINHY0aDEzdjRINHY0aDEzdjRINHY0aDEzdjRoNFYwaC00em0yNiAwaC00djRIMzV2NGgtNHY0SDM1djRoLTR2NEgzNXY0aC00djRIzV2NGgtNHY0aDR2NGg0djRIMzV2NEgzMXY0SDM1djRIzV2NGgtNFYwem0xMyAwaC00djRIMzl2NGgtNHY0SDM5djRoLTR2NEgzOXY0aC00djRIzlvNEgxM3Y0SDl2NEg1djRoOHYtNGg0di00aDR2LTRoNHYtNGg0di00aDR2LTRoNHYtNGg0djRoNHY0aDRWMEgiPjwvcGF0aD48L3N2Zz4=')]"></div>
            <div class="absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-blue-200 dark:bg-blue-900/50 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-30 dark:opacity-20 animate-subtle-pulse"></div>
            <div class="absolute bottom-1/4 right-1/4 w-60 h-60 md:w-72 md:h-72 bg-purple-200 dark:bg-purple-900/50 rounded-full mix-blend-multiply dark:mix-blend-screen filter blur-3xl opacity-30 dark:opacity-20 animate-subtle-pulse animation-delay-2000"></div>
            <div class="container mx-auto px-4 sm:px-6 relative z-10">
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-nexus-heading dark:text-nexus-dark-heading mb-4 md:mb-6 leading-tight animate-fade-in-up" style="animation-delay: 0.1s;">
                    Seu Portal para o <span class="text-nexus-blue">Universo</span> do Streaming
                </h1>
                <p class="text-base sm:text-lg md:text-xl text-nexus-gray dark:text-nexus-dark-text mb-8 md:mb-10 max-w-xl md:max-w-3xl mx-auto animate-fade-in-up" style="animation-delay: 0.3s;">
                    Milhares de filmes, séries e documentários para você assistir onde e quando quiser. Explore novos mundos sem sair do sofá.
                </p>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-5 animate-fade-in-up" style="animation-delay: 0.5s;">
                    <a href="#pricing" class="w-full sm:w-auto bg-gradient-to-r from-blue-500 to-nexus-blue text-white px-6 py-3 sm:px-8 sm:py-3 rounded-full text-sm sm:text-base font-semibold hover:from-blue-600 hover:to-blue-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nexus-blue dark:focus:ring-offset-nexus-stream-dark">
                        Escolha Seu Plano Ideal
                    </a>
                    <a href="#features" class="w-full mt-2 sm:mt-0 sm:w-auto bg-transparent text-nexus-blue px-6 py-3 sm:px-8 sm:py-3 rounded-full text-sm sm:text-base font-semibold border-2 border-nexus-blue hover:bg-blue-50 dark:text-blue-400 dark:border-blue-400 dark:hover:bg-blue-900/30 transition-all duration-300 transform hover:-translate-y-0.5">
                        Veja os Recursos
                    </a>
                </div>
            </div>
        </section>

        <section id="search-section" class="py-12 sm:py-16 bg-white dark:bg-nexus-stream-card">
            <div class="container mx-auto px-4 sm:px-6">
                <h2 class="text-2xl sm:text-3xl font-bold text-center text-nexus-heading dark:text-nexus-dark-heading mb-8">
                    Busque por Filmes e Séries
                </h2>
                <form id="search-form" class="max-w-2xl mx-auto">
                    <div class="relative">
                        <input type="search" id="search-input"
                               class="w-full p-4 pr-16 text-base border border-gray-300 dark:border-gray-600 rounded-full bg-nexus-light dark:bg-nexus-stream-dark text-nexus-heading dark:text-white focus:ring-nexus-blue focus:border-nexus-blue shadow-sm"
                               placeholder="Digite o nome...">
                        <button type="submit"
                                class="absolute top-1/2 right-2 -translate-y-1/2 bg-nexus-blue text-white p-3 rounded-full hover:bg-blue-600 transition-colors duration-300 focus:outline-none">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <section id="results-section" class="py-12 sm:py-16 bg-nexus-light dark:bg-nexus-stream-dark hidden">
            <div class="container mx-auto px-4 sm:px-6">
                <h2 id="results-title" class="text-2xl sm:text-3xl font-bold text-nexus-heading dark:text-nexus-dark-heading mb-8 md:mb-12 text-center">Resultados da Busca</h2>
                <div id="search-results-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6">
                </div>
            </div>
        </section>

        <div id="carousel-sections">
            <section id="now-playing-movies" class="py-12 sm:py-16 md:py-24 bg-nexus-light dark:bg-nexus-stream-dark">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Novidades</span>
                        <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Filmes em Cartaz
                        </h2>
                    </div>
                    <div class="swiper-container swiper-movies-now-playing">
                        <div class="swiper-wrapper" id="now-playing-movies-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
            <section id="popular-movies" class="py-12 sm:py-16 md:py-24 bg-white dark:bg-nexus-stream-card">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Tendências</span>
                         <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Filmes Populares
                        </h2>
                    </div>
                    <div class="swiper-container swiper-movies-popular">
                        <div class="swiper-wrapper" id="popular-movies-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
            <section id="discover-movies" class="py-12 sm:py-16 md:py-24 bg-nexus-light dark:bg-nexus-stream-dark">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Explore</span>
                         <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Descubra <span class="text-nexus-blue">Aventura</span>
                        </h2>
                    </div>
                    <div class="swiper-container swiper-movies-discover">
                        <div class="swiper-wrapper" id="discover-movies-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
            <section id="upcoming-movies" class="py-12 sm:py-16 md:py-24 bg-white dark:bg-nexus-stream-card">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Aguarde</span>
                        <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Próximos Lançamentos
                        </h2>
                    </div>
                    <div class="swiper-container swiper-movies-upcoming">
                        <div class="swiper-wrapper" id="upcoming-movies-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
            <section id="top-rated-movies" class="py-12 sm:py-16 md:py-24 bg-nexus-light dark:bg-nexus-stream-dark">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Os Favoritos</span>
                         <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Filmes Mais Bem Avaliados
                        </h2>
                    </div>
                    <div class="swiper-container swiper-movies-top-rated">
                        <div class="swiper-wrapper" id="top-rated-movies-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
            <section id="top-rated-tv" class="py-12 sm:py-16 md:py-24 bg-white dark:bg-nexus-stream-card">
                <div class="container mx-auto px-4 sm:px-6">
                    <div class="text-center mb-10 md:mb-12">
                        <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Maratonar</span>
                        <div class="section-divider"></div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Séries Mais Bem Avaliadas
                        </h2>
                    </div>
                    <div class="swiper-container swiper-tv-top-rated">
                        <div class="swiper-wrapper" id="top-rated-tv-container">
                            <div class="swiper-slide text-center p-4 text-nexus-gray dark:text-nexus-dark-text">Carregando...</div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                    </div>
                </div>
            </section>
        </div>

        <section id="features" class="py-12 sm:py-16 md:py-24 bg-nexus-light dark:bg-nexus-stream-dark">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 md:mb-16">
                    <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Por que NexusStreaming?</span>
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                        Tudo que Você Ama, em um Só Lugar
                    </h2>
                    <p class="text-base sm:text-lg text-nexus-gray dark:text-nexus-dark-text mt-4 md:mt-5 max-w-xl md:max-w-2xl mx-auto">
                        Descubra uma experiência de streaming sem igual.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                    <div class="bg-white dark:bg-nexus-stream-card p-6 md:p-8 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 dark:border-gray-700 group hover:-translate-y-1">
                        <div class="text-nexus-blue mb-4 md:mb-5 inline-flex items-center justify-center p-2.5 md:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300">
                             <svg class="w-6 h-6 md:w-7 md:h-7 icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <h3 class="text-lg sm:text-xl font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2 md:mb-3">Assista Onde Quiser</h3>
                        <p class="text-nexus-gray dark:text-nexus-dark-text text-sm leading-relaxed">
                                Acesse em sua TV, computador, tablet ou smartphone. Leve a NexusStreaming com você para todo lugar.
                        </p>
                    </div>
                    <div class="bg-white dark:bg-nexus-stream-card p-6 md:p-8 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 dark:border-gray-700 group hover:-translate-y-1">
                        <div class="text-nexus-blue mb-4 md:mb-5 inline-flex items-center justify-center p-2.5 md:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300">
                             <svg class="w-6 h-6 md:w-7 md:h-7 icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        </div>
                        <h3 class="text-lg sm:text-xl font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2 md:mb-3">Downloads Offline</h3>
                        <p class="text-nexus-gray dark:text-nexus-dark-text text-sm leading-relaxed">
                            Baixe seus títulos favoritos para assistir mesmo sem conexão com a internet. Perfeito para viagens!
                        </p>
                    </div>
                    <div class="bg-white dark:bg-nexus-stream-card p-6 md:p-8 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 dark:border-gray-700 group hover:-translate-y-1">
                        <div class="text-nexus-blue mb-4 md:mb-5 inline-flex items-center justify-center p-2.5 md:p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl group-hover:scale-110 transition-transform duration-300">
                             <svg class="w-6 h-6 md:w-7 md:h-7 icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M12 10a4 4 0 110-5.292A4 4 0 0112 10z"></path></svg>
                        </div>
                        <h3 class="text-lg sm:text-xl font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2 md:mb-3">Múltiplos Perfis</h3>
                        <p class="text-nexus-gray dark:text-nexus-dark-text text-sm leading-relaxed">
                                Crie perfis individuais para cada membro da família, com recomendações personalizadas para cada um.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section id="pricing" class="py-12 sm:py-16 md:py-24 bg-white dark:bg-nexus-stream-card">
           <div class="container mx-auto px-4 sm:px-6">
               <div class="text-center mb-12 md:mb-16">
                   <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Escolha Seu Acesso</span>
                   <div class="section-divider"></div>
                   <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                       Planos Flexíveis para Você
                   </h2>
                   <p class="text-base sm:text-lg text-nexus-gray dark:text-nexus-dark-text mt-4 md:mt-5 max-w-xl md:max-w-2xl mx-auto">
                       Selecione a opção que melhor se adapta à sua forma de assistir, com a economia que você merece.
                   </p>
               </div>
               <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16">
                   <div>
                       <h3 class="text-xl sm:text-2xl font-semibold text-center text-nexus-heading dark:text-nexus-dark-heading mb-8">Planos com <span class="text-nexus-blue">1 Acesso</span> Simultâneo</h3>
                       <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8">
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Mensal</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 29,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">/mês</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>1 Acesso Simultâneo</li><li>1 Crédito</li><li>Cancele quando quiser</li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                           <div class="pricing-card featured bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border-2 flex flex-col text-center relative">
                                <span class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-nexus-blue text-white text-xs font-semibold px-4 py-1 rounded-full uppercase tracking-wider">Popular</span>
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2 mt-4">Trimestral</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 69,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">a cada 3 meses (≈ R$23,30/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>1 Acesso Simultâneo</li><li>3 Créditos</li><li>Economize <span class="font-medium">22%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Semestral</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 129,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">a cada 6 meses (≈ R$21,65/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>1 Acesso Simultâneo</li><li>6 Créditos</li><li>Economize <span class="font-medium">27%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Anual</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 219,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">por ano (≈ R$18,32/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>1 Acesso Simultâneo</li><li>12 Créditos</li><li>Economize <span class="font-medium">38%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                       </div>
                   </div>
                   <div>
                       <h3 class="text-xl sm:text-2xl font-semibold text-center text-nexus-heading dark:text-nexus-dark-heading mb-8">Planos com <span class="text-nexus-blue">2 Acessos</span> Simultâneos</h3>
                       <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 md:gap-8">
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Mensal</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 39,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">/mês</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>2 Acessos Simultâneos</li><li>2 Créditos</li><li>Cancele quando quiser</li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Trimestral</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 99,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">a cada 3 meses (≈ R$33,30/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>2 Acessos Simultâneos</li><li>6 Créditos</li><li>Economize <span class="font-medium">16%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                            <div class="pricing-card featured bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border-2 flex flex-col text-center relative">
                                 <span class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-nexus-blue text-white text-xs font-semibold px-4 py-1 rounded-full uppercase tracking-wider">Popular</span>
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2 mt-4">Semestral</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 179,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">a cada 6 meses (≈ R$29,98/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>2 Acessos Simultâneos</li><li>12 Créditos</li><li>Economize <span class="font-medium">25%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                           <div class="pricing-card bg-white dark:bg-nexus-stream-card p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col text-center">
                               <h4 class="text-lg font-semibold text-nexus-heading dark:text-nexus-dark-heading mb-2">Anual</h4>
                               <p class="text-3xl font-bold text-nexus-blue mb-1">R$ 299,90</p>
                               <p class="text-xs text-nexus-gray dark:text-gray-400 mb-4">por ano (≈ R$24,99/mês)</p>
                               <ul class="text-sm text-nexus-gray dark:text-nexus-dark-text space-y-2 mb-6 flex-grow text-left pl-4 list-disc list-inside"><li>2 Acessos Simultâneos</li><li>24 Créditos</li><li>Economize <span class="font-medium">37%</span></li></ul>
                               <a href="#" class="w-full bg-nexus-blue text-white px-6 py-2.5 rounded-full text-sm font-semibold hover:bg-blue-600 transition-colors duration-300 mt-auto">Assinar Agora</a>
                           </div>
                       </div>
                   </div>
               </div>
                <p class="text-xs text-center text-nexus-gray dark:text-gray-500 mt-12">
                   * Os custos e lucros são baseados nos valores fornecidos. Os preços sugeridos podem ser ajustados.
                </p>
           </div>
        </section>

        <section id="contact" class="py-12 sm:py-16 md:py-24 bg-white dark:bg-nexus-stream-card">
            <div class="container mx-auto px-4 sm:px-6">
                <div class="text-center mb-12 md:mb-16">
                      <span class="text-nexus-blue font-semibold text-sm uppercase tracking-wider mb-2 inline-block">Dúvidas?</span>
                      <div class="section-divider"></div>
                      <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-nexus-heading dark:text-nexus-dark-heading mt-1">
                            Fale Conosco!
                      </h2>
                      <p class="text-base sm:text-lg text-nexus-gray dark:text-nexus-dark-text mt-4 md:mt-5 max-w-xl md:max-w-2xl mx-auto">
                                Nossa equipe está pronta para ajudar você a escolher o melhor plano ou responder a qualquer pergunta.
                      </p>
                      <div class="mt-8">
                            <a href="https://wa.me/5511957461222?text=Olá!%20Gostaria%20de%20saber%20mais%20sobre%20a%20NexusStreaming." target="_blank" class="bg-green-500 text-white px-6 py-3 sm:px-8 sm:py-3 rounded-full text-base font-semibold hover:bg-green-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 inline-flex items-center">
                                 <svg fill="currentColor" viewBox="0 0 16 16" class="w-5 h-5 mr-3"> <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/> </svg>
                                 Conversar via WhatsApp
                            </a>
                      </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-nexus-light dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800">
        <div class="container mx-auto px-4 sm:px-6 py-12">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8 text-left">

                <div class="lg:col-span-2 text-center sm:text-left">
                    <a href="#hero" class="text-lg font-bold text-nexus-blue dark:text-white inline-block">NexusStreaming</a>
                    <p class="mt-3 text-sm text-nexus-gray dark:text-nexus-dark-text leading-relaxed max-w-xs mx-auto sm:mx-0">
                        Sua dose diária de entretenimento. Filmes, séries e canais ao vivo, sempre ao seu alcance.
                    </p>
                    <div class="flex space-x-5 mt-5 justify-center sm:justify-start">
                        <a href="#" class="text-gray-400 hover:text-nexus-blue dark:hover:text-white transition" aria-label="Facebook"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg></a>
                        <a href="#" class="text-gray-400 hover:text-nexus-blue dark:hover:text-white transition" aria-label="Instagram"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.148 3.227-1.667 4.771-4.919 4.919-1.266.058-1.646.07-4.85.07-3.204 0-3.584-.012-4.85-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.646-.07-4.85 0-3.204.013-3.583.07-4.85.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.28-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.28.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.28-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>
                        <a href="#" class="text-gray-400 hover:text-nexus-blue dark:hover:text-white transition" aria-label="X (Twitter)">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16">
                               <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.6.75zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 tracking-wider uppercase">Navegação</h3>
                    <ul class="mt-4 space-y-2.5">
                        <li><a href="#hero" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Início</a></li>
                        <li><a href="#search-section" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Pesquisar</a></li>
                         <li><a href="#now-playing-movies" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Em Cartaz</a></li>
                        <li><a href="#popular-movies" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Populares</a></li>
                        <li><a href="#top-rated-tv" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Séries</a></li>
                        <li><a href="#pricing" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Planos</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 tracking-wider uppercase">Canais</h3>
                    <ul class="mt-4 space-y-2.5">
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Filmes e Séries</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Esportes</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Notícias</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Infantil</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Documentários</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Variedades</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 tracking-wider uppercase">Suporte</h3>
                    <ul class="mt-4 space-y-2.5">
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Central de Ajuda</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Dispositivos Compatíveis</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Perguntas Frequentes</a></li>
                        <li><a href="#contact" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Contato</a></li>
                        <li class="pt-2"><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Privacidade</a></li>
                        <li><a href="#" class="text-sm text-nexus-gray dark:text-nexus-dark-text hover:text-nexus-blue dark:hover:text-white transition-colors duration-200">Termos de Uso</a></li>
                    </ul>
                </div>
            </div>

            <div class="mt-10 md:mt-12 border-t border-gray-200 dark:border-gray-700 pt-6 md:pt-8 text-center">
                <p class="text-xs text-nexus-gray dark:text-gray-400">© 2025 NexusStreaming (Parte da Nexus Tecnologia CNPJ: 56.309.584/0001-36). Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>


    <div id="chat-widget" class="bg-chat-bg-light dark:bg-chat-bg-dark rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col">
        <div class="flex justify-between items-center p-3 border-b border-gray-200 dark:border-gray-700">
            <div class="flex items-center space-x-2">
                <svg class="w-5 h-5 text-nexus-blue" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-3.04 8.25-7.5 8.25a9.75 9.75 0 01-3.857-.777l-3.39 1.13a.75.75 0 01-.94-1.003l1.13-3.39A9.75 9.75 0 013 12c0-4.556 3.04-8.25 7.5-8.25s7.5 3.694 7.5 8.25z" /></svg>
                <h4 class="font-semibold text-nexus-heading dark:text-nexus-dark-heading text-sm">Precisa de Ajuda?</h4>
            </div>
            <button id="close-chat" aria-label="Fechar chat" class="text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-600">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        <div class="p-4 space-y-3 flex-grow">
            <p id="chat-greeting" class="text-sm text-nexus-gray dark:text-nexus-dark-text">Carregando...</p>
            <div id="chat-options" class="space-y-2">
                <button class="chat-option w-full text-left text-sm px-3 py-2 bg-chat-btn-bg-light dark:bg-chat-btn-bg-dark hover:bg-chat-btn-hover-bg-light dark:hover:bg-chat-btn-hover-bg-dark rounded-lg transition-colors text-nexus-heading dark:text-nexus-dark-text flex items-center space-x-2" data-message="Qual a diferença entre os planos?"> <span>Diferença entre planos</span> </button>
                <button class="chat-option w-full text-left text-sm px-3 py-2 bg-chat-btn-bg-light dark:bg-chat-btn-bg-dark hover:bg-chat-btn-hover-bg-light dark:hover:bg-chat-btn-hover-bg-dark rounded-lg transition-colors text-nexus-heading dark:text-nexus-dark-text flex items-center space-x-2" data-message="Como funciona o cancelamento?"> <span>Como cancelar?</span> </button>
                <button class="chat-option w-full text-left text-sm px-3 py-2 bg-chat-btn-bg-light dark:bg-chat-btn-bg-dark hover:bg-chat-btn-hover-bg-light dark:hover:bg-chat-btn-hover-bg-dark rounded-lg transition-colors text-nexus-heading dark:text-nexus-dark-text flex items-center space-x-2" data-message="Quero falar com um atendente."> <span>Falar com atendente</span> </button>
            </div>
        </div>
        <div class="bg-gray-50 dark:bg-gray-800/50 px-4 py-2 text-center text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700"> Clique para iniciar via <span class="font-medium">WhatsApp</span> </div>
    </div>
    <button id="whatsapp-button" aria-label="Abrir chat" class="bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-400 dark:focus:ring-offset-nexus-dark">
        <svg fill="currentColor" viewBox="0 0 16 16" class="w-6 h-6"> <path d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/> </svg>
    </button>

    <div id="video-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[1001] hidden p-4">
        <div class="bg-nexus-stream-card dark:bg-nexus-stream-dark rounded-xl shadow-2xl w-[95%] sm:w-full max-w-3xl aspect-video relative overflow-hidden border border-gray-700">
            <button id="close-modal" class="absolute top-2 right-3 text-white bg-black/40 hover:bg-black/70 rounded-full p-1.5 transition-colors z-10" aria-label="Fechar Vídeo">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div id="video-player-container" class="w-full h-full">
                <iframe id="video-iframe" class="w-full h-full" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
            <div id="modal-message" class="absolute inset-0 flex justify-center items-center text-white bg-nexus-stream-card dark:bg-nexus-stream-dark hidden">
                <p>Carregando trailer...</p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        // --- Dark Mode Toggle ---
        function toggleDarkMode() {
            const htmlElement = document.documentElement;
            const isDarkMode = htmlElement.classList.contains('dark');
            if (isDarkMode) { htmlElement.classList.remove('dark'); localStorage.theme = 'light'; }
            else { htmlElement.classList.add('dark'); localStorage.theme = 'dark'; }
        }

        // --- Mobile Menu Script ---
        (() => {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const navLinksContainer = document.querySelector('.hidden.md\\:flex');
            const mobileMenuContainer = document.getElementById('mobile-menu-container');
            if (!mobileMenuButton || !navLinksContainer || !mobileMenuContainer) return;

            let mobileMenuOpen = false;

            const updateMobileMenu = () => {
                const mobileNavContent = navLinksContainer.cloneNode(true);
                mobileNavContent.className = 'flex flex-col py-4 px-4 bg-white dark:bg-gray-800 shadow-lg space-y-1';

                mobileNavContent.querySelectorAll('a, button').forEach(node => {
                    node.className = ''; // Limpa classes existentes
                    node.classList.add(
                        'py-2.5', 'px-3', 'rounded-md', 'text-left', 'w-full',
                        'transition-colors', 'duration-200',
                        'text-gray-600', 'dark:text-gray-300',
                        'hover:text-nexus-blue', 'dark:hover:text-blue-400',
                        'hover:bg-gray-100', 'dark:hover:bg-gray-700'
                    );

                    // Estiliza o botão "Acessar"
                    if (node.tagName === 'A' && node.textContent.trim() === 'Acessar') {
                         node.classList.remove(...node.classList);
                         node.classList.add(
                             'w-full', 'text-center', 'py-2.5', 'mt-3', 'bg-gray-600',
                             'text-white', 'rounded-full', 'font-semibold',
                             'hover:bg-gray-700', 'transition-all', 'duration-300', 'inline-block'
                         );
                    }
                    // Estiliza o botão "Assine Agora"
                    else if (node.tagName === 'A' && node.textContent.trim() === 'Assine Agora') {
                        node.classList.remove(...node.classList);
                        node.classList.add(
                            'w-full', 'text-center', 'py-2.5', 'mt-2', 'bg-gradient-to-r',
                            'from-blue-500', 'to-nexus-blue', 'text-white', 'rounded-full',
                            'font-semibold', 'hover:from-blue-600', 'hover:to-blue-600',
                            'transition-all', 'duration-300', 'inline-block'
                        );
                    }
                    // Estiliza o botão de Tema
                    else if (node.tagName === 'BUTTON' && node.getAttribute('onclick') === 'toggleDarkMode()') {
                        const btnHtml = node.innerHTML;
                        node.innerHTML = `<span>Alternar Tema</span>` + btnHtml;
                        node.classList.add('flex', 'items-center', 'justify-between');
                    }
                });

                // Reordena para "Acessar" vir antes de "Assine"
                const assineButton = mobileNavContent.querySelector('a[href="#pricing"].bg-gradient-to-r');
                const acessarButton = mobileNavContent.querySelector('a.bg-gray-600');
                if (assineButton && acessarButton) {
                    assineButton.parentNode.insertBefore(acessarButton, assineButton);
                }


                while (mobileMenuContainer.firstChild) mobileMenuContainer.removeChild(mobileMenuContainer.firstChild);
                mobileMenuContainer.appendChild(mobileNavContent);
                mobileMenuContainer.classList.add('hidden', 'transition-opacity', 'duration-300', 'ease-in-out');
                mobileMenuContainer.style.opacity = 0;

                // Adiciona listeners aos novos links
                 mobileNavContent.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        if (link.getAttribute('href').startsWith('#') && mobileMenuOpen) {
                             toggleMenu();
                        }
                    });
                });
            };

            const toggleMenu = () => {
                mobileMenuOpen = !mobileMenuOpen;
                mobileMenuContainer.classList.toggle('hidden');
                requestAnimationFrame(() => { mobileMenuContainer.style.opacity = mobileMenuOpen ? 1 : 0; });
                mobileMenuButton.innerHTML = mobileMenuOpen
                ? `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>`
                : `<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>`;
            };

            mobileMenuButton.addEventListener('click', toggleMenu);
            updateMobileMenu(); // Chama a função para criar o menu inicial
        })();


        // --- Chat Widget Script ---
        (() => {
            const chatWidget = document.getElementById('chat-widget');
            const closeChatButton = document.getElementById('close-chat');
            const greetingElement = document.getElementById('chat-greeting');
            const chatOptions = document.querySelectorAll('.chat-option');
            const whatsappButton = document.getElementById('whatsapp-button');
            if (!chatWidget || !closeChatButton || !greetingElement || !whatsappButton) return;
            const whatsappNumber = '5511957461222';
            const currentHour = new Date().getHours();
            let greeting = 'Olá! 👋 Como podemos ajudar?';
            if (currentHour >= 5 && currentHour < 12) greeting = 'Bom dia! ☀️ Como podemos ajudar?';
            else if (currentHour >= 12 && currentHour < 18) greeting = 'Boa tarde! 👋 Como podemos ajudar?';
            else greeting = 'Boa noite! 🌙 Como podemos ajudar?';
            greetingElement.textContent = greeting;
            let chatTimeout;
            const showWhatsappButton = () => { whatsappButton.classList.remove('hidden'); whatsappButton.classList.add('visible'); };
            const hideWhatsappButton = () => { whatsappButton.classList.remove('visible'); whatsappButton.classList.add('hidden'); };
            const showChatWidget = () => { hideWhatsappButton(); chatWidget.classList.add('visible'); };
            const hideChatWidget = () => { chatWidget.classList.remove('visible'); showWhatsappButton(); };
            setTimeout(() => { if (!chatWidget.classList.contains('visible')) showWhatsappButton(); }, 2500);
            closeChatButton.addEventListener('click', () => { hideChatWidget(); clearTimeout(chatTimeout); });
            whatsappButton.addEventListener('click', showChatWidget);
            chatOptions.forEach(button => {
                button.addEventListener('click', () => {
                    const message = button.getAttribute('data-message');
                    if (message) window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`, '_blank');
                });
            });
        })();

        // --- TMDb, Swiper & Search Script ---
        $(document).ready(function() {
            const tmdbApiKey = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMmM1MjkyYThiMDg2YjI5NjM4Y2QyODFlM2MyNGIwMSIsIm5iZiI6MTcxNjk0OTU3Ny43MTgwMDAyLCJzdWIiOiI2NjU2OTI0OTA3YWJhZDkwM2ZhOGE5OWIiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.K_SwYlQ-mYAG9-NW1kmB2_xRkdUXnHAnhhrok5_3kHQ';
            const imageBaseUrl = 'https://image.tmdb.org/t/p/w500';

            const $videoModal = $('#video-modal'), $closeModalButton = $('#close-modal'), $videoIframe = $('#video-iframe'), $modalMessage = $('#modal-message');
            const $searchInput = $('#search-input');
            const $searchResultsGrid = $('#search-results-grid');
            const $resultsSection = $('#results-section');
            const $searchForm = $('#search-form');
            const $carouselSections = $('#carousel-sections');
            const $resultsTitle = $('#results-title');

            function openModal() { $videoModal.removeClass('hidden').css('opacity', 0).animate({ opacity: 1 }, 300); }
            function closeModal() { $videoModal.animate({ opacity: 0 }, 300, function() { $(this).addClass('hidden'); $videoIframe.attr('src', ''); $modalMessage.addClass('hidden'); }); }
            $closeModalButton.on('click', closeModal);
            $videoModal.on('click', function(event) { if ($(event.target).is($videoModal)) closeModal(); });

            function fetchAndShowMediaVideos(mediaId, mediaType) {
                let apiUrl;
                if (mediaType === 'movie') {
                    apiUrl = `https://api.themoviedb.org/3/movie/${mediaId}/videos?language=pt-BR,en-US`;
                } else if (mediaType === 'tv') {
                    apiUrl = `https://api.themoviedb.org/3/tv/${mediaId}/videos?language=pt-BR,en-US`;
                } else {
                    console.error('Tipo de mídia não suportado para vídeos:', mediaType);
                    $modalMessage.text('Tipo de mídia não suportado para vídeos.');
                    setTimeout(closeModal, 2000);
                    return;
                }

                const settings = {
                    async: true,
                    crossDomain: true,
                    url: apiUrl,
                    method: 'GET',
                    headers: {
                        accept: 'application/json',
                        Authorization: tmdbApiKey
                    }
                };

                $videoIframe.attr('src', '');
                $modalMessage.removeClass('hidden').text('Carregando trailer...');
                openModal();

                $.ajax(settings).done(function (response) {
                    const videos = response.results;
                    let trailerKey = null;

                    const trailer = videos.find(v => v.site === 'YouTube' && v.type === 'Trailer' && v.iso_639_1 === 'pt') ||
                                  videos.find(v => v.site === 'YouTube' && v.type === 'Trailer' && v.iso_639_1 === 'en' && v.official === true) ||
                                  videos.find(v => v.site === 'YouTube' && v.type === 'Trailer' && v.official === true) ||
                                  videos.find(v => v.site === 'YouTube' && v.type === 'Trailer') ||
                                  videos.find(v => v.site === 'YouTube');

                    trailerKey = trailer?.key;

                    if (trailerKey) {
                        // Atenção: O googleusercontent.com não é um domínio padrão para embed do YouTube.
                        // O padrão é youtube.com/embed/. Usarei o padrão.
                        $videoIframe.attr('src', `https://www.youtube.com/embed/${trailerKey}?autoplay=1&rel=0`);
                        $modalMessage.addClass('hidden');
                    } else {
                        $modalMessage.text('Trailer não encontrado.');
                        setTimeout(closeModal, 2000);
                    }
                }).fail(function() {
                    $modalMessage.text('Erro ao buscar o trailer.');
                    setTimeout(closeModal, 2000);
                });
            }

            function createCard(item, type, isSearchResult = false) {
                const title = (type === 'movie') ? item.title : item.name;
                const posterPath = item.poster_path;
                const rating = item.vote_average ? item.vote_average.toFixed(1) : 'N/A';
                const itemId = item.id;

                if (!posterPath) return '';

                const clickableClass = 'media-card-clickable';
                const dataAttrs = `data-id="${itemId}" data-type="${type}"`;
                const cursorStyle = 'pointer';
                const mediaTypeLabel = (type === 'movie') ? 'Filme' : 'Série';

                const cardHtml = `
                    <div class="show-card ${clickableClass}" ${dataAttrs} style="cursor: ${cursorStyle};">
                        <img src="${imageBaseUrl}${posterPath}" alt="${title}" loading="lazy" class="w-full object-cover aspect-[2/3]">
                        <div class="show-info p-3 flex flex-col flex-grow justify-between">
                            <div>
                                ${isSearchResult ? `<span class="text-xs font-semibold uppercase tracking-wider ${ (type === 'movie') ? 'text-blue-400' : 'text-green-400'}">${mediaTypeLabel}</span>` : ''}
                                <h4 class="text-nexus-heading dark:text-nexus-dark-heading ${isSearchResult ? 'mt-1' : ''}" title="${title}">${title}</h4>
                            </div>
                            <div class="rating text-nexus-gray dark:text-gray-400 mt-1">
                                <svg class="w-3.5 h-3.5 text-yellow-500 mr-1 inline-block" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                                <span>${rating}</span>
                            </div>
                        </div>
                    </div>`;
                return isSearchResult ? cardHtml : `<div class="swiper-slide">${cardHtml}</div>`;
            }

            function initSwiper(selector) {
                return new Swiper(selector, {
                    slidesPerView: 2.3, spaceBetween: 15,
                    navigation: { nextEl: `${selector} .swiper-button-next`, prevEl: `${selector} .swiper-button-prev`, },
                    breakpoints: { 480: { slidesPerView: 3, spaceBetween: 15 }, 640: { slidesPerView: 3, spaceBetween: 20 }, 768: { slidesPerView: 4, spaceBetween: 25 }, 1024: { slidesPerView: 5, spaceBetween: 30 }, 1280: { slidesPerView: 6, spaceBetween: 30 }, }
                });
            }
            function loadAndInitSwiper(endpoint, containerId, swiperSelector, type) {
                const container = $(`#${containerId}`);
                const settings = { async: true, crossDomain: true, url: `https://api.themoviedb.org/3/${endpoint}`, method: 'GET', headers: { accept: 'application/json', Authorization: tmdbApiKey } };
                $.ajax(settings).done(function (response) {
                    container.empty(); const items = response.results;
                    if (items && items.length > 0) { items.forEach(item => { container.append(createCard(item, type, false)); }); initSwiper(swiperSelector); }
                    else { container.html('<p class="swiper-slide text-center w-full">Nenhum item encontrado.</p>'); }
                }).fail(function() { container.html('<p class="swiper-slide text-center w-full text-red-500">Erro ao carregar.</p>'); });
            }

            loadAndInitSwiper('movie/now_playing?language=pt-BR&page=1', 'now-playing-movies-container', '.swiper-movies-now-playing', 'movie');
            loadAndInitSwiper('movie/popular?language=pt-BR&page=1', 'popular-movies-container', '.swiper-movies-popular', 'movie');
            loadAndInitSwiper('discover/movie?language=pt-BR&page=1&sort_by=popularity.desc&with_genres=12', 'discover-movies-container', '.swiper-movies-discover', 'movie');
            loadAndInitSwiper('movie/upcoming?language=pt-BR&page=1', 'upcoming-movies-container', '.swiper-movies-upcoming', 'movie');
            loadAndInitSwiper('movie/top_rated?language=pt-BR&page=1', 'top-rated-movies-container', '.swiper-movies-top-rated', 'movie');
            loadAndInitSwiper('tv/top_rated?language=pt-BR&page=1', 'top-rated-tv-container', '.swiper-tv-top-rated', 'tv');

            function performSearch(query) {
                const trimmedQuery = query.trim();
                if (!trimmedQuery) {
                    $resultsSection.addClass('hidden');
                    $carouselSections.removeClass('hidden');
                    $resultsTitle.text("Resultados da Busca");
                    return;
                }

                $searchResultsGrid.html('<p class="col-span-full text-center text-lg animate-pulse">Pesquisando...</p>');
                $resultsSection.removeClass('hidden');
                $carouselSections.addClass('hidden');
                $resultsTitle.text(`Resultados para "${trimmedQuery}"`);

                const settings = {
                    async: true, crossDomain: true,
                    url: `https://api.themoviedb.org/3/search/multi?query=${encodeURIComponent(trimmedQuery)}&language=pt-BR&page=1&include_adult=false`,
                    method: 'GET', headers: { accept: 'application/json', Authorization: tmdbApiKey }
                };

                $.ajax(settings).done(function (response) {
                    displayResults(response.results);
                }).fail(function() {
                    $searchResultsGrid.html('<p class="col-span-full text-center text-lg text-red-500">Erro ao realizar a busca. Tente novamente.</p>');
                });
            }

            function displayResults(items) {
                $searchResultsGrid.empty();
                const filteredItems = items.filter(item => (item.media_type === 'movie' || item.media_type === 'tv') && item.poster_path);

                if (filteredItems.length === 0) {
                    $searchResultsGrid.html('<p class="col-span-full text-center text-lg">Nenhum filme ou série encontrado com pôster para esta busca.</p>');
                    return;
                }

                filteredItems.forEach(item => {
                    const cardHtml = createCard(item, item.media_type, true);
                    $searchResultsGrid.append(cardHtml);
                });
            }

            $searchForm.on('submit', function(event) {
                event.preventDefault();
                performSearch($searchInput.val());
            });

            let searchDebounceTimeout;
            $searchInput.on('keyup input', function() {
                clearTimeout(searchDebounceTimeout);
                const query = $(this).val();
                searchDebounceTimeout = setTimeout(() => {
                    if (query.trim() === '') {
                        performSearch('');
                    } else if (query.trim().length > 2) {
                        performSearch(query);
                    }
                }, 500);
            });

            $('body').on('click', '.media-card-clickable', function() {
                const mediaId = $(this).data('id');
                const mediaType = $(this).data('type');
                if (mediaId && mediaType) {
                    fetchAndShowMediaVideos(mediaId, mediaType);
                }
            });
        });
    </script>

</body>
</html>
